(this.webpackJsonpheury=this.webpackJsonpheury||[]).push([[3],{120:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n(12),c=function(e){return(e.match(/[A-Z]+(?![a-z])|[A-Z]?[a-z]+|\d+/g)||[e]).join(" ")},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLocaleLowerCase()},r=function(e){return a.d[parseInt(e.split(" ")[0])-1]}},124:function(e,t,n){e.exports={"t-header":"Observation_t-header__HsvU1",more:"Observation_more__37XFZ",transparent:"Observation_transparent__1JoWq",hidden:"Observation_hidden__ZDkGI","row-actions":"Observation_row-actions__29pVY",ul:"Observation_ul__2Dl6o"}},125:function(e,t,n){e.exports={"modal-card":"ModalCard_modal-card__3GEzp",appear:"ModalCard_appear__EMS0x"}},126:function(e,t,n){e.exports={"modal-wrapper":"ModalScreen_modal-wrapper__3E56k",container:"ModalScreen_container__1NuIY"}},127:function(e,t,n){e.exports={form:"ModalOverlay_form__33sW6","textarea-label":"ModalOverlay_textarea-label__2qDTc","check-box":"ModalOverlay_check-box__3jTcw",btn:"ModalOverlay_btn__2JQgs",select:"ModalOverlay_select__3nkPz"}},128:function(e,t,n){e.exports={"btn-container":"FileInput_btn-container__3dbW4","file-input":"FileInput_file-input__1TJxL",thumb:"FileInput_thumb__2Opus","image-container":"FileInput_image-container__1RdZ1"}},129:function(e,t,n){e.exports={table:"Table_table__3cVv6",wrapper:"Table_wrapper__20h3c","table-container":"Table_table-container__24FoY","btn-container":"Table_btn-container__a38UD",filter:"Table_filter__m43Su"}},130:function(e,t,n){e.exports={btn:"FilterTable_btn__1LkW7",active:"FilterTable_active__2SzO0",container:"FilterTable_container__1Rho8"}},131:function(e,t,n){e.exports={"filter-actions":"FilterActions_filter-actions__NROmz",heuristic:"FilterActions_heuristic__24hBa",severity:"FilterActions_severity__146es"}},132:function(e,t,n){"use strict";n.r(t);var a=n(13),c=n(1),i=n.n(c),r=n(30),s=n(124),l=n.n(s),o=n(125),j=n.n(o),d=n(2),b=function(e){var t=e.children,n=e.className;return Object(d.jsx)("div",{className:"".concat(j.a["modal-card"]," ").concat(n),children:t})},u=n(93),h=n.n(u),O=n(12),x=n(126),v=n.n(x),m=n(117),f=function(e){var t=e.setShowModal,n=e.children,a=document.getElementById("modal-root"),i=document.getElementById("backdrop-root");return Object(d.jsxs)(c.Fragment,{children:[h.a.createPortal(Object(d.jsx)(m.a.div,{onClick:function(){return t(!1)},className:v.a["modal-wrapper"],variants:O.a,initial:"hidden",animate:"visible",exit:"exit"}),i),h.a.createPortal(Object(d.jsx)("div",{className:v.a.container,children:n}),a)]})},p=n(120),_=n(119),C=n(56),g=n(127),w=n.n(g),y=(n(101),function(e){var t=e.name,n=e.validation,a=e.onEditCheckBoxArray;return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{onChange:function(){return a(t)},checked:n,type:"checkbox",name:t}),Object(d.jsxs)("span",{children:[Object(p.a)(Object(p.c)(t).toLowerCase())," ",n]})]})}),S=function(e){var t=e.value,n=e.onSetSelected,a=e.selectData,c=e.name,i=e.className,r=e.active,s=e.defaultValue;return Object(d.jsxs)("select",{style:{color:r?"#FF7451":"#FAFAFE"},className:i||"",onChange:n,value:t.split(" ").join(""),name:c,children:[Object(d.jsx)("option",{value:"",children:s||"All"}),a.map((function(e){return Object(d.jsx)("option",{value:e,children:Object(p.c)(e)},Math.random().toString())}))]})},N=n(128),F=n.n(N),M=function(e){var t=e.onSetEvidence,n=e.prevEvidence;return Object(d.jsxs)(i.a.Fragment,{children:[""===n&&Object(d.jsxs)("div",{className:F.a["btn-container"],children:[Object(d.jsx)("input",{onChange:function(e){var n=e.currentTarget.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=function(e){t(e.target.result)}},className:F.a["file-input"],type:"file",accept:".jpg, .png",name:"file"}),Object(d.jsx)("span",{children:"Upload Image"})]}),""!==n&&Object(d.jsxs)("div",{className:F.a["image-container"],children:[Object(d.jsx)("img",{className:F.a.thumb,src:n||"",alt:""}),Object(d.jsx)("svg",{onClick:function(){return t("")},className:F.a.cancel,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})]})]})},k=function(e){var t=e.setShowModal,n=e.editData,i=e.projectId,s=Object(c.useContext)(r.a),l=s.createObservation,o=s.editObservation,j=n?n.notes:"",b=n?n.recommendations:"",u=n?n.heuristics.map((function(e){return e.split(" ").join("")})):[],h=n?n.severity:"",x=n?n.evidence:"",v=Object(c.useState)(j),f=Object(a.a)(v,2),_=f[0],g=f[1],N=Object(c.useState)(b),F=Object(a.a)(N,2),k=F[0],D=F[1],E=Object(c.useState)(u),I=Object(a.a)(E,2),A=I[0],L=I[1],T=Object(c.useState)(h),V=Object(a.a)(T,2),B=V[0],Z=V[1],z=Object(c.useState)(x),H=Object(a.a)(z,2),R=H[0],U=H[1],J=function(e){if(A.includes(e))L(A.filter((function(t){return t!==e})));else{var t=O.c.findIndex((function(t){return t===e}));L((function(e){return[].concat(Object(C.a)(e),[O.c[t]])}))}},P=A.map((function(e){return(e.charAt(0).toUpperCase()+e.slice(1)).split(" ").join("")}));return Object(d.jsxs)(m.a.form,{className:w.a.form,onSubmit:function(e){e.preventDefault();var a=e.currentTarget.elements,c={notes:a.notes.value,heuristics:A.map((function(e){return Object(p.c)(e||"")})),severity:Object(p.c)(a.severity.value),evidence:R,recommendations:a.solution.value,id:n?n.id:Math.random().toString()};if(!n)return l(c,i),void t(!1);o({newObservation:c,id:n.id,projectId:i}),t(!1)},variants:O.a,initial:"hidden",animate:"visible",exit:"exit",children:[Object(d.jsxs)("label",{className:w.a["textarea-label"],children:["Notes",Object(d.jsx)("textarea",{onChange:function(e){return g(e.target.value)},value:_,name:"notes",children:_})]}),Object(d.jsx)("div",{className:w.a["check-box"],children:O.c.map((function(e){return Object(d.jsx)(y,{onEditCheckBoxArray:J,validation:P.includes(e),name:e},Math.random().toString())}))}),Object(d.jsx)("label",{children:"Evidence"}),Object(d.jsx)(M,{prevEvidence:R,onSetEvidence:function(e){U(e)}}),Object(d.jsxs)("label",{children:["Severity",Object(d.jsx)(S,{defaultValue:"Select One",active:!1,className:w.a.select,selectData:O.e,value:B,name:"severity",onSetSelected:function(e){return Z(e.target.value)}})]}),Object(d.jsxs)("label",{className:w.a["textarea-label"],children:["Solution",Object(d.jsx)("textarea",{onChange:function(e){return D(e.target.value)},value:k,name:"solution",children:k})]}),Object(d.jsx)(m.a.button,{className:"reset-btn ".concat(w.a.btn),whileHover:{scale:1.1},whileTap:{scale:.9},children:n?"Save Changes":"Create Observation"})]})},D=function(e){var t=e.observationData,n=e.index,i=e.projectId,s=Object(c.useState)(!0),o=Object(a.a)(s,2),j=o[0],u=o[1],h=Object(c.useState)(!1),O=Object(a.a)(h,2),x=O[0],v=O[1],m=Object(c.useContext)(r.a).deleteObservation;return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(_.a,{initial:!1,exitBeforeEnter:!0,children:x&&Object(d.jsx)(f,{setShowModal:v,children:Object(d.jsx)(k,{projectId:i,editData:t,setShowModal:v})})}),Object(d.jsxs)("tr",{children:[Object(d.jsxs)("th",{className:l.a["t-header"],children:[Object(d.jsx)("h3",{children:n}),Object(d.jsx)("button",{onBlur:function(){return u(!0)},onClick:function(){return u(!1)},className:"".concat(l.a.transparent," ").concat(l.a.more),children:Object(d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M3 9.5C2.60218 9.5 2.22064 9.34196 1.93934 9.06066C1.65804 8.77936 1.5 8.39782 1.5 8C1.5 7.60218 1.65804 7.22064 1.93934 6.93934C2.22064 6.65804 2.60218 6.5 3 6.5C3.39782 6.5 3.77936 6.65804 4.06066 6.93934C4.34196 7.22064 4.5 7.60218 4.5 8C4.5 8.39782 4.34196 8.77936 4.06066 9.06066C3.77936 9.34196 3.39782 9.5 3 9.5ZM8 9.5C7.60218 9.5 7.22064 9.34196 6.93934 9.06066C6.65804 8.77936 6.5 8.39782 6.5 8C6.5 7.60218 6.65804 7.22064 6.93934 6.93934C7.22064 6.65804 7.60218 6.5 8 6.5C8.39782 6.5 8.77936 6.65804 9.06066 6.93934C9.34196 7.22064 9.5 7.60218 9.5 8C9.5 8.39782 9.34196 8.77936 9.06066 9.06066C8.77936 9.34196 8.39782 9.5 8 9.5ZM13 9.5C12.6022 9.5 12.2206 9.34196 11.9393 9.06066C11.658 8.77936 11.5 8.39782 11.5 8C11.5 7.60218 11.658 7.22064 11.9393 6.93934C12.2206 6.65804 12.6022 6.5 13 6.5C13.3978 6.5 13.7794 6.65804 14.0607 6.93934C14.342 7.22064 14.5 7.60218 14.5 8C14.5 8.39782 14.342 8.77936 14.0607 9.06066C13.7794 9.34196 13.3978 9.5 13 9.5Z",fill:"#9C9BA8"})})}),Object(d.jsx)(b,{className:"".concat(l.a["row-actions"]," ").concat(j&&l.a.hidden),children:Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)("button",{onMouseDown:function(){return v(!0)},className:"reset-btn",children:"Edit"}),Object(d.jsx)("button",{onMouseDown:function(){return m(t.id,i)},className:"reset-btn",children:"Delete"})]})})]}),Object(d.jsx)("td",{children:Object(d.jsx)("p",{children:t.notes})}),Object(d.jsx)("td",{children:Object(d.jsx)("ul",{className:l.a.ul,children:t.heuristics.map((function(e){return Object(d.jsx)("li",{children:Object(p.a)(e)},Math.random())}))})}),Object(d.jsx)("td",{style:{backgroundColor:Object(p.b)(t.severity)},className:l.a.severity,children:t.severity}),Object(d.jsx)("td",{children:t.evidence&&Object(d.jsx)("img",{src:t.evidence,alt:"evidence"})}),Object(d.jsx)("td",{children:Object(d.jsx)("p",{children:t.recommendations})})]})]})},E=n(129),I=n.n(E),A=n(130),L=n.n(A),T=n(131),V=n.n(T),B=n(94),Z=function(e){var t=e.setFilterActionVisible,n=Object(c.useContext)(r.a),a=n.filterData,i=n.setHeuristicFilter,s=n.setSeverityFilter,l=Object(B.a)(t);return Object(d.jsxs)(m.a.div,{ref:l,className:V.a["filter-actions"],variants:O.b,initial:"hidden",animate:"visible",exit:"exit",children:[Object(d.jsxs)("label",{className:V.a.heuristic,children:[Object(d.jsx)("span",{children:"Heuristic"}),Object(d.jsx)(S,{active:""!==a.heuristic,name:"heuristicFilter",selectData:O.c,value:a.heuristic,onSetSelected:i})]}),Object(d.jsxs)("label",{className:V.a.severity,children:[Object(d.jsx)("span",{children:"Severity"}),Object(d.jsx)(S,{active:""!==a.severity,name:"severityFilter",selectData:O.e,value:a.severity,onSetSelected:s})]})]})},z=function(){var e=Object(c.useContext)(r.a).filterData,t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],s=n[1];return Object(d.jsxs)("div",{className:L.a.container,children:[Object(d.jsxs)("button",{onClick:function(){return s(!0)},className:"reset-btn ".concat(L.a.btn," ").concat((""!==e.heuristic||""!==e.severity)&&L.a.active),children:[Object(d.jsx)("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M0.318237 1.07813C0.318237 0.916509 0.380494 0.761512 0.491311 0.647232C0.602127 0.532952 0.752428 0.46875 0.909146 0.46875H15.091C15.2477 0.46875 15.398 0.532952 15.5088 0.647232C15.6196 0.761512 15.6819 0.916509 15.6819 1.07813V3.51563C15.6818 3.66591 15.628 3.81088 15.5306 3.92269L10.3637 9.84338V15.7031C10.3636 15.831 10.3245 15.9555 10.252 16.0592C10.1794 16.1629 10.0771 16.2404 9.95951 16.2808L6.41406 17.4996C6.32527 17.5301 6.23073 17.5384 6.13822 17.5238C6.04571 17.5093 5.95787 17.4723 5.88194 17.4159C5.80601 17.3594 5.74416 17.2853 5.70147 17.1994C5.65879 17.1135 5.63649 17.0184 5.63642 16.9219V9.84338L0.46951 3.92269C0.372138 3.81088 0.318263 3.66591 0.318237 3.51563V1.07813ZM1.50006 1.6875V3.28163L6.66696 9.20231C6.76434 9.31412 6.81821 9.45909 6.81824 9.60938V16.0761L9.18187 15.2644V9.60938C9.1819 9.45909 9.23577 9.31412 9.33315 9.20231L14.5001 3.28163V1.6875H1.50006Z",fill:"#7F828F"})}),Object(d.jsx)("span",{children:"Filters"})]}),Object(d.jsx)(_.a,{initial:!1,exitBeforeEnter:!0,children:i&&Object(d.jsx)(Z,{setFilterActionVisible:s})})]})},H=n(7);t.default=function(e){var t=e.id,n=Object(c.useContext)(r.a),i=n.userProjects,s=(n.createObservation,n.deleteObservation,n.filterData),l=Object(c.useState)(!1),o=Object(a.a)(l,2),j=o[0],b=o[1],u=i.find((function(e){return e.id===t}));if(!u)return Object(d.jsx)(H.a,{to:"/"});var h=u.observations,O=(""===s.heuristic&&""===s.severity?h:h.filter((function(e){return function(e){return""!==s.severity&&""!==s.heuristic?e.severity===Object(p.c)(s.severity)&&""!==e.severity&&e.heuristics.includes(Object(p.c)(s.heuristic)):""!==s.severity&&""===s.heuristic?e.severity===Object(p.c)(s.severity)&&""!==e.severity:e.heuristics.includes(Object(p.c)(s.heuristic))}(e)}))).map((function(e,n){return Object(d.jsx)(D,{projectId:t,index:n+1,observationData:e},Math.random())}));return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(_.a,{initial:!1,exitBeforeEnter:!0,children:j&&Object(d.jsx)(f,{setShowModal:b,children:Object(d.jsx)(k,{projectId:t,setShowModal:b})})}),Object(d.jsx)("section",{className:I.a.filter,children:Object(d.jsx)(z,{})}),Object(d.jsx)("section",{className:I.a.wrapper,children:Object(d.jsxs)("div",{className:I.a["table-container"],children:[Object(d.jsxs)("table",{className:I.a.table,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:I.a.first,children:"#"}),Object(d.jsx)("th",{children:"Notes"}),Object(d.jsx)("th",{children:"Heuristic"}),Object(d.jsx)("th",{children:"Severity"}),Object(d.jsx)("th",{children:"Evidence"}),Object(d.jsx)("th",{children:"Recommendation"})]})}),Object(d.jsx)("tbody",{children:O})]}),Object(d.jsx)("div",{className:I.a["btn-container"],children:Object(d.jsx)("button",{onClick:function(){return b(!0)},children:"New Observation"})})]})})]})}}}]);
//# sourceMappingURL=3.aa937a83.chunk.js.map